inputs:
  os:
    required: true
    type: string
  builder:
    required: true
    type: string
  ocaml-compiler:
    required: true
    type: string
jobs:
  build:
    runs-on: ${{ inputs.os }}
    steps:
      - name: Checkout
        uses: actions/checkout@v3
      - name: Setup OCaml
        uses: ocaml/setup-ocaml@v2
        with:
          ocaml-compiler: ${{ inputs.ocaml-compiler }}
      - name: Make stdcompat
        run: opam exec -- sh -exc ".github/scripts/build-${{ inputs.builder }}.sh"
